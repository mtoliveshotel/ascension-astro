---
import { allLangs } from '../i18n';
const { lang } = Astro.props as { lang: 'en' | 'ru' | 'tr' | 'ar' | 'he' };
const site = (Astro.site ? Astro.site.toString().replace(/\/$/, '') : '');
const currentPath = Astro.url.pathname.replace(/\/+$/, '/') || '/';
const pathFor = (l: string) => (l === 'en' ? '/' : `/${l}/`);
---
<link rel="canonical" href={`${site}${currentPath}`} />
{allLangs.map((l) => (
  <link rel="alternate" hreflang={l} href={`${site}${pathFor(l)}`} />
))}
<link rel="alternate" hreflang="x-default" href={`${site}/`} />
